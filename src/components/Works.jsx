import { Tilt } from "react-tilt";
import { motion } from "framer-motion";
import { styles } from "../styles";
import { github } from "../assets";
import { SectionWrapper } from "../hoc";
import { projects } from "../constants";
import { fadeIn, textVariant } from "../utils/motion";

const ProjectCard = ({
  index,
  name,
  description,
  tags,
  image,
  demo,
  source_code_link,
}) => {
  return (
    <motion.div variants={fadeIn("up", "spring", 0.21 * index, 0.6)}>
      <Tilt
        options={{
          max: 45,
          scale: 1,
          speed: 450,
        }}
        className="bg-tertiary p-5 rounded-2xl sm:w-[360px] w-full"
      >
        <div className="relative w-full h-[230px]">
          <img
            src={image}
            alt={name}
            className="w-full h-full object-cover rounded-2xl"
          />
          <div className="absolute inset-0 flex justify-end m-3 card-img_hover">

            <div
              onClick={() => window.open(demo, "__blank")}
              className="transition-all duration-[450] bg-gradient-to-t from-[#3d816b] via-[#0d3c36] to-[#051614] bg-size-200 bg-pos-0 hover:bg-pos-100 w-10 h-10 rounded-full flex justify-center items-center cursor-pointer mr-3"
            >
              <svg
                className="w-1/3 h-1/3 object-contain cursor-pointer "
                xmlns="http://www.w3.org/2000/svg"
                height="0.875em"
                viewBox="0 0 512 512"
                fill="#ffffff"
              >
                <path d="M320 0c-17.7 0-32 14.3-32 32s14.3 32 32 32h82.7L201.4 265.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L448 109.3V192c0 17.7 14.3 32 32 32s32-14.3 32-32V32c0-17.7-14.3-32-32-32H320zM80 32C35.8 32 0 67.8 0 112V432c0 44.2 35.8 80 80 80H400c44.2 0 80-35.8 80-80V320c0-17.7-14.3-32-32-32s-32 14.3-32 32V432c0 8.8-7.2 16-16 16H80c-8.8 0-16-7.2-16-16V112c0-8.8 7.2-16 16-16H192c17.7 0 32-14.3 32-32s-14.3-32-32-32H80z" />
              </svg>
            </div>

            <div
              onClick={() => window.open(source_code_link, "__blank")}
              className="transition-all duration-[450] bg-gradient-to-t from-[#3d816b] via-[#0d3c36] to-[#051614] bg-size-200 bg-pos-0 hover:bg-pos-100 w-10 h-10 rounded-full flex justify-center items-center cursor-pointer"
            >
              <img
                src={github}
                alt={github}
                className="w-1/2 h-1/2 object-contain cursor-pointer"
              />
            </div>

          </div>
        </div>

        <div className="mt-5">
          <h3 className="text-white font-bold text-[24px]">{name}</h3>
          <p className="mt-2 text-secondary text-[14px]">{description}</p>
        </div>

        <div className='mt-4 flex flex-wrap gap-2'>
          {tags.map((tag) => (
            <p
              key={`${name}-${tag.name}`}
              className={`text-[14px] ${tag.color}`}
            >
              #{tag.name}
            </p>
          ))}
        </div>
      </Tilt>
    </motion.div>
  );
};

const Works = () => {
  return (
    <>
      <motion.div variants={textVariant()}>
        <p className={styles.sectionSubText}>My Work</p>
        <h2 className={styles.sectionHeadText}>Projects.</h2>
      </motion.div>

      <div className="w-full flex">
        <motion.p
          variants={fadeIn("", "", 0.1, 1)}
          className="mt-3 text-secondary text-[17px] max-w-3xl leading-[30px]"
        >
          Prepare to be dazzled as we dive into a showcase of my expertise through real-world projects. Here, you'll find a curated selection of my work, each project briefly described with direct links to their GitHub code repositories and live demos. These projects highlight my ability to tackle complex problems, adeptly handle various technologies, and manage them with efficiency and professionalism.
        </motion.p>
      </div>

      <div className="mt-20 flex flex-wrap gap-7">
        {projects.map((project, index) => (
          <ProjectCard key={`project-${index}`} index={index} {...project} />
        ))}
      </div>
    </>
  );
};

// REMOVE ID "work" WHEN YOU HAVE ACTUAL JOB EXPERIENCE!
export default SectionWrapper(Works, "work");
